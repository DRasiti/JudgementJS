/**
 * JudgementJS v1.0.0 - JavaScript form validator. Allows to easily validate your forms just with adding some rules in your form elements through the data-rules attribute.
 * https://drasiti.github.io/JudgementJS/
 *
 * Author: Dzulistan Rasiti (rasiti.d@gmail.com)
 *
 * Copyright 2017, Dzulistan Rasiti
 *
 * Released under the MIT license - http://opensource.org/licenses/MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Judgement=t()}(this,function(){"use strict";function e(e,t){var r;for(r in t)e.hasOwnProperty(r)&&(e[r]=t[r]);return e}function t(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})}function r(e,t){if("object"==typeof t){for(var r=0,s=e.length;s>r;r++)if(e[r].elementId==t.elementId)return!0}else if("string"==typeof t)for(var r=0,s=e.length;s>r;r++)if(e[r].elementId==t)return!0;return!1}function s(e,t){for(var r=0,s=t.length;s>r;r++)if(e.id==t[r].elementId)return!0;return!1}function i(e,t){for(var r="",s=0,i=t.length;i>s;s++)if(e.id==t[s].element.id){r=t[s];break}return""!==r?r:!1}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return"[object Object]"===Object.prototype.toString.call(e)}var o={rules:/(.*?)\[(.*?)\]/g,date_format:/^((ddmmyyyy|yyyymmdd),(\/|-|\.))$/,alpha:/^[a-zA-Z]*$/,alpha_numeric:/^[a-zA-Z0-9]+$/i,alpha_dash:/^[a-zA-Z0-9_\-]+$/i,alpha_space:/^[a-zA-Z ]*$/,alpha_numeric_space:/^[a-zA-Z0-9 ]+$/i,alpha_dash_space:/^[a-zA-Z0-9_\- ]+$/i,numeric:/^\-?[0-9]*\.?[0-9]+$/,integer:/^\-?[0-9]+$/,decimal:/^\-?[0-9]+\.[0-9]+$/,natural:/^[0-9]+$/i,natural_no_zero:/^[1-9][0-9]*$/i,email:/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,ip_address:/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,base64:/[^a-zA-Z0-9\/\+=]/i,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{6,}$/,credit_card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,time:/^(?:0[0-9]|1[0-9]|2[0-3])(:)(?:0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9])(:)(?:0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9])$/},l={alpha:"{field} accepts only alphabetical characters",alpha_numeric:"{field} accepts only alpha-numeric characters",alpha_dash:"{field} accepts only alpha-numeric characters, underscores, and dashes",alpha_space:"{field} accepts only alphabetical characters and spaces",alpha_numeric_space:"{field} accepts only alpha-numeric characters and spaces",alpha_dash_space:"{field} accepts only alpha-numeric characters, underscores, dashes and spaces",numeric:"{field} accepts only numbers (integer or decimal, positve or negative)",integer:"{field} accepts only numbers (Integer, positive or negative)",decimal:"{field} accepts only numbers (Decimal, positive or negative. e.g. 10.55)",natural:"{field} accepts only digits",natural_no_zero:"{field} accepts only digits and must be greater than zero",email:"{field} must contain a valid email address",ip_address:"{field} must contain a valid IP address",base64:"{field} must contain a base64 string",url:"{field} must contain a valid url",date:"{field} must contain a valid date. Format: {format}",time:"{field} must contain a valid time. Format: hh:mm:ss",password:"The password must be at least 6 characters long and contain at least 1 Uppercase, 1 lowercase, 1 digit and a special character: ($, @,!,%, *,?, &)",credit_card:"Incorrect number. Accepted cards: Visa, MasterCard, American Express, Diners Club, Discover and JCB",is_nan:"{field} must be a number.",required:"{field} is required.",requiredCheckbox:"{field} is required. One of the checkboxes must be checked.",requiredRadio:"{field} is required. Select an option.",min_length:"{field} requires a minimum of {min} characters",max_length:"{field} requires a maximum of {max} characters",exact_length:"{field} requires exactly {exact} characters",range_length:"{field} requires between {min} and {max} characters",greater_than:"{field} requires a value greater than {number}",greater_than_equal_to:"{field} requires a value greater than or equal to {number}",less_than:"{field} requires a value less than {number}",less_than_equal_to:"{field} requires a value less than or equal to {number}",in_list:"{field} accepts only '{values}' values",equal_to:"{field} must be identical to the {target} field",different_from:"{field} must be different from the {target} field"},u=function(t){var r=this,s=[];this.form=null,this.submitButton=null,this.errors=[],this.successes=[],this.fields=[],this.field={},this.userOptions={};var i={formId:null,submitButtonId:null,jsonLangFile:null,realTimeChecking:!1,onBlurChecking:!1,errorContainer:null,inputHighlights:!0,preventEnterKey:!1,testMode:!1,onSubmit:null,onSuccess:null,onError:null};if(void 0===typeof t||"object"!=typeof t)throw new Error("options must be an object");if(t&&"object"==typeof t&&(this.userOptions=e(i,t)),null===this.userOptions.formId||null===this.userOptions.submitButtonId||"string"!=typeof this.userOptions.formId||"string"!=typeof this.userOptions.submitButtonId)throw new Error('"formId" and "submitButtonId" options are required and must contain a string value. e.g. var form = new Judgement({formId: "myFormId", submitButtonId: "mySubmitButtonId"});');if(!this.userOptions.realTimeChecking&&!this.userOptions.onBlurChecking&&null===this.userOptions.errorContainer||this.userOptions.realTimeChecking&&this.userOptions.onBlurChecking&&null!==this.userOptions.errorContainer||!this.userOptions.realTimeChecking&&this.userOptions.onBlurChecking&&null!==this.userOptions.errorContainer||this.userOptions.realTimeChecking&&!this.userOptions.onBlurChecking&&null!==this.userOptions.errorContainer||this.userOptions.realTimeChecking&&!this.userOptions.onBlurChecking&&null!==this.userOptions.errorContainer||this.userOptions.realTimeChecking&&this.userOptions.onBlurChecking&&null===this.userOptions.errorContainer)throw new Error("You must choose just one option to handle errors messages:  errorContainer:'id_of_error_container', realTimeChecking: true or onBlurChecking: true");if(null!==this.userOptions.jsonLangFile&&"string"!=typeof this.userOptions.jsonLangFile)throw new Error("jsonLangFile option must be a string value");if(null!==this.userOptions.realTimeChecking&&"boolean"!=typeof this.userOptions.realTimeChecking)throw new Error("realTimeChecking option must be a boolean value (true/false)");if(null!==this.userOptions.onBlurChecking&&"boolean"!=typeof this.userOptions.onBlurChecking)throw new Error("onBlurChecking option must be a boolean value (true/false)");if(null!==this.userOptions.errorContainer&&"string"!=typeof this.userOptions.errorContainer)throw new Error("errorContainer option must be a string value");if(null!==this.userOptions.inputHighlights&&"boolean"!=typeof this.userOptions.inputHighlights)throw new Error("inputHighlights option must be a boolean value (true/false)");if(null!==this.userOptions.preventEnterKey&&"boolean"!=typeof this.userOptions.preventEnterKey)throw new Error("preventEnterKey option must be a boolean value (true/false)");if(null!==this.userOptions.testMode&&"boolean"!=typeof this.userOptions.testMode)throw new Error("testMode option must be a boolean value (true/false)");if(null!==this.userOptions.onSubmit&&"function"!=typeof this.userOptions.onSubmit)throw new Error("onSubmit option  must be a function");if(null!==this.userOptions.onSuccess&&"function"!=typeof this.userOptions.onSuccess)throw new Error("onSuccess option must be a function");if(null!==this.userOptions.onError&&"function"!=typeof this.userOptions.onError)throw new Error("onError option must be a function");this.form=document.getElementById(this.userOptions.formId),this.submitButton=document.getElementById(this.userOptions.submitButtonId),this.submitButton.addEventListener("click",function(){r._formCheck()},!1);for(var a,n=0,l=this.form.length;l>n;n++){var u,d,h,m,c=[];if(u=this.form[n],d="undefined"!=typeof this.form[n].dataset.rules?this.form[n].dataset.rules.split("|"):"",void 0===u.dataset.labelName||""==u.dataset.labelName?u.dataset.labelName="{label}":u.dataset.labelName=u.dataset.labelName.trim(),u.value=u.value.ltrim(),""!=d){for(var f=0,p=d.length;p>f;f++){if(d[f].indexOf("[")>-1)for(;a=o.rules.exec(d[f]);)h=a[1].removeSpaces(),this._checkRuleParamValue(h,a[2])?m=a[2].indexOf(",")>-1?"equal_to"!==h&&"different_from"!==h&&"in_list"!==h?a[2].removeSpaces().split(","):a[2].trim().split(","):a[2]:s.push('The "'+h+'" rule of "'+u.id+'" field is incorrect. ("rule name" or "rule param value")');else h=d[f].removeSpaces(),m=null;c.push({rule:h,param:m})}this.fields.push({element:u,rules:c})}}if(s.length>0)for(var n=0,l=s.length;l>n;n++)throw new Error(s[n])};return u.prototype.startJudgement=function(){var e=this;if(null!==this.userOptions.jsonLangFile)this._loadJSONLangFile(this.userOptions.jsonLangFile,function(t){l=JSON.parse(t);for(var r=0,s=e.form.length;s>r;r++)e._addEvent(e.form[r])});else for(var t=0,r=this.form.length;r>t;t++)this._addEvent(this.form[t])},u.prototype._loadJSONLangFile=function(e,t){var r;try{r=new XMLHttpRequest}catch(s){try{r=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){try{r=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){r=!1}}}r.overrideMimeType("application/json"),r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&t(r.responseText)},r.send(null)},u.prototype._addEvent=function(e){switch(e.type){case"text":case"password":case"color":case"date":case"datetime":case"datetimeLocal":case"email":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":void 0!==e.dataset.rules&&(this.userOptions.realTimeChecking?(e.onkeyup=this._checkInput.bind(this,e),e.onblur=this._checkInput.bind(this,e)):this.userOptions.onBlurChecking&&(e.onblur=this._checkInput.bind(this,e))),this.userOptions.preventEnterKey||(e.onkeypress=this._isEnterKey.bind(this));break;case"select-one":case"select-multiple":void 0!==e.dataset.rules&&(this.userOptions.realTimeChecking||this.userOptions.onBlurChecking)&&(e.onchange=this._checkInput.bind(this,e),e.onblur=this._checkInput.bind(this,e)),this.userOptions.preventEnterKey||(e.onkeypress=this._isEnterKey.bind(this));break;case"checkbox":case"radio":void 0!==e.dataset.rules&&(this.userOptions.realTimeChecking||this.userOptions.onBlurChecking)&&(e.onclick=this._checkInput.bind(this,e),e.onblur=this._checkInput.bind(this,e)),this.userOptions.preventEnterKey||(e.onkeypress=this._isEnterKey.bind(this))}},u.prototype._checkRuleParamValue=function(e,t){switch(e){case"date":return o.date_format.test(t.removeSpaces());case"min_length":case"max_length":case"exact_length":return o.natural.test(t.removeSpaces());case"range_length":var r=t.removeSpaces().split(",");return o.natural.test(r[0])&&o.natural.test(r[1])&&parseInt(r[0])<parseInt(r[1]);case"greater_than":case"greater_than_equal_to":case"less_than":case"less_than_equal_to":return o.numeric.test(t.removeSpaces());case"equal_to":case"different_from":var s=t.trim().split(",");return 2==s.length&&null!==document.getElementById(s[0]);case"in_list":return!0;default:return!1}},u.prototype._isEnterKey=function(e){e&&13==e.keyCode&&(e.preventDefault(),this.submitButton.click())},u.prototype._formCheck=function(){this.form.onsubmit=this._checkForm()},u.prototype._sendForm=function(){this.form.submit()},u.prototype._checkInput=function(e){if(this.errors=[],e.value=e.value.ltrim(),this.field=i(e,this.fields),this.field.rules.length>0){var t=this._checkField(this.field);t!==!0?r(this.errors,t)||this.errors.push(t):r(this.successes,this.field.element.id)||this.successes.push({elementId:this.field.element.id});var s=document.getElementById("j-error-"+this.field.element.id);null!==s&&s.parentNode.removeChild(s)}this._displayResults(this.field)},u.prototype._checkForm=function(){this.errors=[];for(var e=0,t=this.fields.length;t>e;e++)if(this.fields[e].rules.length>0){var s=this._checkField(this.fields[e]);s!==!0?r(this.errors,s)||this.errors.push(s):r(this.successes,this.fields[e].element.id)||this.successes.push({elementId:this.fields[e].element.id})}return this._displayResults(this.fields),!1},u.prototype._displayResults=function(e){if(a(e))if(null===this.userOptions.errorContainer)for(var t=0;t<e.length;t++){var r=e[t].element,i=document.getElementById("j-error-"+r.id);null!==i&&i.parentNode.removeChild(i),r.classList.remove("j-error-highlight"),r.classList.remove("j-success-highlight")}else document.getElementById(this.userOptions.errorContainer).innerHTML="",document.getElementById(this.userOptions.errorContainer).style.display="none";else{var i=document.getElementById("j-error-"+e.element.id);null!==i&&i.parentNode.removeChild(i),e.element.classList.remove("j-error-highlight"),e.element.classList.remove("j-success-highlight")}if(this.errors.length>0){var o;if(null!==this.userOptions.onError&&"function"==typeof this.userOptions.onError)this.userOptions.onError.call(void 0,this.errors);else if(null===this.userOptions.errorContainer&&(a(e)||n(e))||null!==this.userOptions.errorContainer&&n(e))for(var t=0;t<this.errors.length;t++){var r=document.getElementById(this.errors[t].elementId);if(o=document.createElement("span"),o.setAttribute("class","j-error"),o.setAttribute("id","j-error-"+r.id),o.innerHTML=this.errors[t].message,r.parentNode.insertBefore(o,r),this.userOptions.inputHighlights&&(r.classList.remove("j-error-highlight"),r.classList.remove("j-success-highlight"),r.classList.add("j-error-highlight")),e.length>0)for(var l=0,u=e.length;u>l;l++)s(e[l].element,this.errors)||(document.getElementById(e[l].element.id).classList.remove("j-error-highlight"),document.getElementById(e[l].element.id).classList.remove("j-success-highlight"),document.getElementById(e[l].element.id).classList.add("j-success-highlight"));else s(e.element,this.errors)||(document.getElementById(e.element.id).classList.remove("j-error-highlight"),document.getElementById(e.element.id).classList.remove("j-success-highlight"),document.getElementById(e.element.id).classList.add("j-success-highlight"))}else for(var t=0,d=this.errors.length;d>t;t++){var h=document.getElementById(this.userOptions.errorContainer),r=document.getElementById(this.errors[t].elementId);if(o=document.createElement("span"),o.setAttribute("class","j-error"),o.setAttribute("id","j-error-"+this.errors[t].elementId),o.innerHTML=this.errors[t].message,h.appendChild(o),h.style.display="",this.userOptions.inputHighlights){r.classList.remove("j-error-highlight"),r.classList.remove("j-success-highlight"),r.classList.add("j-error-highlight");for(var l=0,u=e.length;u>l;l++)s(e[l].element,this.errors)||(document.getElementById(e[l].element.id).classList.remove("j-error-highlight"),document.getElementById(e[l].element.id).classList.remove("j-success-highlight"),document.getElementById(e[l].element.id).classList.add("j-success-highlight"))}}}else if(null!==this.userOptions.onSuccess&&"function"==typeof this.userOptions.onSuccess)this.userOptions.onSuccess.call(void 0,this.successes);else if(a(e)){for(var t=0;t<e.length;t++){var r=e[t].element;r.classList.remove("j-error-highlight"),r.classList.remove("j-success-highlight"),this.userOptions.inputHighlights&&r.classList.add("j-success-highlight")}this.userOptions.testMode||null!==this.userOptions.onSubmit||this._sendForm(),null!==this.userOptions.onSubmit&&"function"==typeof this.userOptions.onSubmit&&this.userOptions.onSubmit.call(void 0,this.form),null!==this.userOptions.errorContainer&&(document.getElementById(this.userOptions.errorContainer).innerHTML="",document.getElementById(this.userOptions.errorContainer).style.display="none")}else e.element.classList.remove("j-error-highlight"),e.element.classList.remove("j-success-highlight"),this.userOptions.inputHighlights&&e.element.classList.add("j-success-highlight")},u.prototype._checkField=function(e){for(var r,s,i={},a=e.element,n=e.rules,u=["alpha","alpha_numeric","alpha_dash","alpha_space","alpha_numeric_space","alpha_dash_space","numeric","integer","decimal","natural","natural_no_zero","email","ip_address","base64","url","password","credit_card","time"],d=0,h=n.length;h>d;d++)if(r=n[d].rule,s=n[d].param,null!==s){if("date"==r){var m,c,f;switch(s[0]){case"ddmmyyyy":c="."==s[1]||"/"==s[1]?"(\\"+s[1]+")":"("+s[1]+")",m="^(?:(?:31"+c+"(?:0[13578]|1[02]))\\1|(?:(?:29|30)"+c+"(?:0[1,3-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)\\d{2})$|^(?:29"+c+"02\\3(?:(?:(?:1[6-9]|[2-9]\\d)(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0[1-9]|1\\d|2[0-8])"+c+"(?:(?:0[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)\\d{2})$",f="dd"+s[1]+"mm"+s[1]+"yyyy";break;case"yyyymmdd":c="."==s[1]||"/"==s[1]?"(\\"+s[1]+")":"("+s[1]+")",m="^(?:(?:1[6-9]|[2-9]\\d)?\\d{2}"+c+")(?:(?:(?:0[13578]|1[02])"+c+"31)|(?:(?:0[1,3-9]|1[0-2])"+c+"(?:29|30)))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))"+c+"02"+c+"29)$|^(?:(?:1[6-9]|[2-9]\\d)\\d{2})"+c+"(?:(?:0[1-9])|(?:1[0-2]))"+c+"(?:0[1-9]|1\\d|2[0-8])$",f="yyyy"+s[1]+"mm"+s[1]+"dd"}var p=new RegExp(m);if(!p.test(a.value)&&""!=a.value.trim()){i={elementId:a.id,message:l.date.formatError({field:a.dataset.labelName,format:f})};break}}if("min_length"==r&&a.value.trim().length<parseInt(s.removeSpaces())&&""!=a.value.trim()){i={elementId:a.id,message:l.min_length.formatError({field:a.dataset.labelName,min:s.removeSpaces()})};break}if("max_length"==r&&a.value.trim().length>parseInt(s.removeSpaces())&&""!=a.value.trim()){i={elementId:a.id,message:l.max_length.formatError({field:a.dataset.labelName,max:s.removeSpaces()})};break}if("range_length"==r&&(a.value.trim().length<parseInt(s[0].removeSpaces())||a.value.trim().length>parseInt(s[1].removeSpaces()))&&""!=a.value.trim()){i={elementId:a.id,message:l.range_length.formatError({field:a.dataset.labelName,min:s[0],max:s[1]})};break}if("exact_length"==r&&a.value.trim().length!=parseInt(s.removeSpaces())&&""!=a.value.trim()){i={elementId:a.id,message:l.exact_length.formatError({field:a.dataset.labelName,exact:s.removeSpaces()})};break}if("greater_than"==r&&""!=a.value.trim()){if(!o.numeric.test(a.value.trim())){i={elementId:a.id,message:l.is_nan.formatError({field:a.dataset.labelName})};break}if(parseFloat(a.value.trim())<=s.removeSpaces()){i={elementId:a.id,message:l.greater_than.formatError({field:a.dataset.labelName,number:s.removeSpaces()})};break}}if("greater_than_equal_to"==r&&""!=a.value.trim()){if(!o.numeric.test(a.value.trim())){i={elementId:a.id,message:l.is_nan.formatError({field:a.dataset.labelName})};break}if(parseFloat(a.value.trim())<s.removeSpaces()){i={elementId:a.id,message:l.greater_than_equal_to.formatError({field:a.dataset.labelName,number:s.removeSpaces()})};break}}if("less_than"==r&&""!=a.value.trim()){if(!o.numeric.test(a.value.trim())){i={elementId:a.id,message:l.is_nan.formatError({field:a.dataset.labelName})};break}if(parseFloat(a.value.trim())>=s.removeSpaces()){i={elementId:a.id,message:l.less_than.formatError({field:a.dataset.labelName,number:s.removeSpaces()})};break}}if("less_than_equal_to"==r&&""!=a.value.trim()){if(!o.numeric.test(a.value.trim())){i={elementId:a.id,message:l.is_nan.formatError({field:a.dataset.labelName})};break}if(parseFloat(a.value.trim())>s.removeSpaces()){i={elementId:a.id,message:l.less_than_equal_to.formatError({field:a.dataset.labelName,number:s.removeSpaces()})};break}}if("in_list"==r){var g=!1;if(""!=a.value.trim()){for(var d=0;d<s.length;d++)s[d].trim()==a.value.trim()&&(g=!0);if(!g){i={elementId:a.id,message:l.in_list.formatError({field:a.dataset.labelName,values:s.join()})};break}}}if("equal_to"==r&&document.getElementById(s[0]).value!=a.value){i={elementId:a.id,message:l.equal_to.formatError({field:a.dataset.labelName,target:s[1]})};break}if("different_from"==r&&document.getElementById(s[0]).value==a.value){i={elementId:a.id,message:l.different_from.formatError({field:a.dataset.labelName,target:s[1]})};break}}else{if("required"==r)if("checkbox"==a.type||"radio"==a.type){if(a.checked!==!0){i={elementId:a.id,message:l.required.formatError({field:a.dataset.labelName})};break}}else if(""==a.value.trim()){i={elementId:a.id,message:l.required.formatError({field:a.dataset.labelName})};break}if("required_one_of"==r){var v=document.getElementsByName(a.name);if(null!==v){var b=v[0],y=document.getElementById("j-error-"+b.id);if(null!==y&&y.parentNode.removeChild(y),"checkbox"==b.type||"radio"==b.type){for(var _=!1,d=0,O=v.length;O>d;d++)v[d].checked===!0&&(_=!0);if(_===!1){if("checkbox"==b.type){i={elementId:b.id,message:l.requiredCheckbox.formatError({field:b.dataset.labelName})};break}i={elementId:b.id,message:l.requiredRadio.formatError({field:b.dataset.labelName})};break}}}}if(u.indexOf(r)>-1&&!o[r].test(a.value)&&""!=a.value.trim()){if("password"!=r&&"credit_card"!=r){i={elementId:a.id,message:l[r].formatError({field:a.dataset.labelName})};break}i={elementId:a.id,message:l[r]};break}}return t(i)?!0:i},String.prototype.formatError=function(e){return this.replace(/{([^\}]+)\}/g,function(t,r){return String(e[r])})},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.removeSpaces=function(){return this.replace(/\s/g,"")},u});